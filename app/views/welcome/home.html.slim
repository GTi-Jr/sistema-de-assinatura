/ Início
section#welcome
  = image_tag 'baby.jpg', class: 'background-image'
  .container
    .col-xs-12.col-sm-4.pull-right.welcome-login
      = image_tag 'logos/logo-primaria-01.png', class: 'login-logo'
      - if current_user.present?
        h3.text-center.primary-text Seja bem-vindo #{current_user.name}
      - else
        = form_for @user, as: :user, url: session_path(:user) do |f|
          .form-group.col-xs-12
            = f.text_field :email, class: 'form-control', placeholder: 'E-mail'
          .form-group.col-xs-12
            = f.password_field :password, class: 'form-control', placeholder: 'Senha'
          .form-group.text-center
            = f.submit 'Entrar', class: 'btn btn-primary terciary-text'
/ Como Funciona
section#how-it-works
  .container
    .row
      .col-xs-12.text-center
        h2.terciary-text Como funciona?
  .container
    .row
      .col-xs-12.col-sm-2= image_tag 'inspection_filled.png', class: 'col-centered'
      .col-xs-12.col-sm-3
        h2.terciary-text Você assina
      .col-xs-12.col-sm-7
        blockquote
          p.terciary-text Você escolhe um plano para assinar e passa a fazer parte desse clube.
  .container
    .row
      .col-xs-12.col-sm-8.col-centered.hidden-xs
        = image_tag 'caminho_cegonha_1.png', class: 'caminho-da-cegonha'
  .container
    .row
      .col-xs-12.col-sm-4.pull-right.hidden-xs
        h2.terciary-text Nós selecionamos e entregamos
      .col-xs-12.col-sm-2.pull-right= image_tag 'handle_with_care_filled.png', class: 'col-centered'
      .col-xs-12.col-sm-4.pull-right.visible-xs
        h2.terciary-text Nós selecionamos e entregamos
      .col-xs-12.col-sm-6.pull-left
        blockquote.blockquote-reverse
          p.terciary-text
            | Nossa curadoria escolhe os melhores produtos, benefícios e informações relacionadas à maternidade, para você receber em uma caixinha especial na sua casa.
  .container
    .row
      .col-xs-12.col-sm-8.col-centered.hidden-xs
        = image_tag 'caminho_cegonha_2.png', class: 'caminho-da-cegonha'
  .container
    .row
      .col-xs-12.col-sm-2= image_tag 'hearts_filled.png', class: 'col-centered'
      .col-xs-12.col-sm-4.col-md-3
        h2.terciary-text Você se surpreende
      .col-xs-12.col-sm-6.col-md-7
        blockquote
          p.terciary-text Você recebe nossa caixa com um mundo de surpresas e desfruta dos produtos, benefícios exclusivos e muita informação!
section#plans.primary-bg-color
  p
    h2.text-light.text-center Nossos Planos
  #plans-list.container
    .row
      - @plans.each do |plan|
        .col-xs-12.col-sm-4
          svg[viewBox="0 0 286 120" class="cloud-image"]
            path[d="M3411.63269,1673.85369c0,24.58719-18.76315,44.728-42.55443,46.46859q-1.65788.124-3.35069,0.12285H3169.966c-0.0022-.029-0.00441-0.058-0.00441-0.08712q-1.34733.08714-2.71664,0.08712c-22.98115,0-41.61225-18.9096-41.61225-42.23438,0-23.327,18.63109-42.23441,41.61225-42.23441a40.95793,40.95793,0,0,1,20.80612,5.65078,35.37334,35.37334,0,0,1,33.0265-23.08124,34.825,34.825,0,0,1,10.1774,1.51045,66.09458,66.09458,0,0,1,101.84017,9.61011,38.99695,38.99695,0,0,1,20.35266-.71947,45.28339,45.28339,0,0,1,12.27977-1.687C3391.08192,1627.26,3411.63269,1648.12023,3411.63269,1673.85369Z" transform="translate(-3125.63269 -1600.44513)"]
          .pricing-plan
            .body
              ul
                li.text-center
                  h3.primary-text= plan.name
                li.text-center.primary-text= currency(plan.price)
                li.text-center
                  h3.primary-text
                    | #{plan.duration} #{plan.class.human_attribute_name(:months, count: plan.duration.to_i)}
                li.text-center
                  h3.primary-text
                    | #{currency(plan.price_per_month)} ao mês
                li.text-center
                  = plan.description
              .buy-btn.text-center
                = link_to 'Quero assinar!', plans_payment_checkout_path(plan.id), class: 'btn btn-primary'
= content_for :js
  coffee:
    adjustCloudToPlan = ->
      $('.pricing-plan').css('margin-top', ($('.cloud-image').height()/2.5 * (-1) + 'px')) # para deixar a nuvem certa com a caixa de preço
    $(document).ready ->
      $('section#welcome').height($(window).height() - $('.stiky-header').height()) # para deixar o início pegando a tela inteira
      adjustCloudToPlan()
      $(window).resize ->
        adjustCloudToPlan()
      return



